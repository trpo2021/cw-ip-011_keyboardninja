#include <locale.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

void Prepare(
    int* Mode,
    int* Difficulty,
    int testing) { // ???????? ????? ????????? ??????????
    system("PAUSE");
    *Mode = 0, *Difficulty = 0;
    while (*Mode == 0) { // ???????? ??? ????? ????????
        system("cls");
        if (!testing) {
            printf("\n\n ?????? ????? ??????????:\n\t1 - ?????? ?????\n\t2 - "
                   "?????? ?????\n\t3 - ????? ? ?????\n");
            scanf("%d", Mode);
        }
        if (*Mode < 1 || *Mode > 3) {
            if (!testing) {
                printf("\n??????, ??????? ?????????? ????????\n");
            }
            system("PAUSE");
            *Mode = 0;
        }
    }

    while (*Difficulty == 0) { // ???????? ??? ????? ????????
        if (!testing) {
            system("cls");
            printf("\n???????? ????????? ??????:\n");
        }

        if (*Mode == 1) {
            if (!testing) {
                printf("\n?? ??????? ?????\n");
                printf("\n\t1 - ??????? ?? 1-? ?????\n\t2 - ??????? ?? "
                       "?????\n\t3 - ??????? ???????????\n");
            }

        } else if (*Mode == 2) {
            if (!testing) {
                printf("\n?? ??????? ?????");
                printf("\n\t1 - ??????? ?? 1 ?????\n\t2 - ??????? ?????\n\t3 - "
                       "??????? ?????????\n");
            }

        } else if (*Mode == 3) {
            if (!testing) {
                printf("\n\t??? ???????????? ?????? 1 ??????? ?????????, "
                       "?????!\n");
            }

            break;
        }
        if (!testing)
            scanf("\n%d", Difficulty);

        if (*Difficulty < 1 || *Difficulty > 3) {
            if (!testing)
                printf("\n??????, ??????? ?????????? ????????\n");
            system("PAUSE");
            *Difficulty = 0;
        }
    }
}
